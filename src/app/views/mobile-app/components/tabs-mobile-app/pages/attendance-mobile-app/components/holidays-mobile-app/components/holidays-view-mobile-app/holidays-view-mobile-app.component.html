<app-header-with-back-handler
  title="Company Holidays"
  backRoute="mobile-app/tabs/attendance"
></app-header-with-back-handler>

<ion-content [fullscreen]="true">
  <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <ion-list *ngIf="holidaysList.length > 0; else noHolidays" class="holiday-list">
    <ion-item-group>
      <ion-item-sliding *ngFor="let holiday of holidaysList">
        <ion-item-options side="start">
          <ion-item-option color="tertiary" (click)="onEditClicked(holiday)">
            <ion-icon name="create-outline" slot="icon-only"></ion-icon>
          </ion-item-option>
        </ion-item-options>
        <ion-item-options side="end">
          <ion-item-option color="danger" (click)="onDeleteClicked(holiday)">
            <ion-icon name="trash-outline" slot="icon-only"></ion-icon>
          </ion-item-option>
        </ion-item-options>

        <ion-item detail="false" lines="none" class="holiday-item">
          <ion-label>
            <div class="date-container">
              <!-- <span class="day">{{ formatDateToDay(holiday.p.Date) }}</span> -->
              <span class="date">{{ formatDate(holiday.p.Date) }}</span>
            </div>
            <h2 class="reason">{{ holiday.p.Reason }}</h2>
          </ion-label>
        </ion-item>
      </ion-item-sliding>
    </ion-item-group>
  </ion-list>

  <ng-template #noHolidays>
    <div class="ion-padding ion-text-center no-data-message">
      <ion-icon name="calendar-outline"></ion-icon>
      <h2>No holidays set yet.</h2>
      <!-- <p>Add a new company holiday by tapping the '+' button.</p> -->
    </div>
  </ng-template>

  <!-- <ion-fab slot="fixed" vertical="bottom" horizontal="end">
    <ion-fab-button (click)="AddCompanyHolidays()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab> -->
</ion-content>