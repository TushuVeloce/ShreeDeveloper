<app-header-with-back-handler title="CRM"></app-header-with-back-handler>

<ion-content>
  <div class="crm-container">
    <!-- CRM Stats Overview -->
    <div class="crm-stats">
      <div class="stat-card" *ngFor="let stat of crmStats">
        <div class="stat-icon">
          <ion-icon [name]="stat.icon"></ion-icon>
        </div>
        <h3 class="stat-value">{{ stat.value }}</h3>
        <p class="stat-title">{{ stat.title }}</p>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <ion-button expand="full" (click)="goToVisitedCustomer()">Customer Enquiry</ion-button>
      <ion-button expand="full" color="secondary" (click)="goToCustomerFollowUp()">Customer Follow-Up</ion-button>
    </div>

    <!-- Reminders Section -->
    <div class="reminders-section" *ngIf="FilterFollowupList.length">
      <h2 class="section-title">Reminder for Follow-Up</h2>
      <div *ngFor="let reminder of FilterFollowupList" class="reminder-item" (click)="onFollowUpClick(reminder)">
        <ion-icon name="people-outline"></ion-icon>
        <div class="reminder-details">
          <p class="reminder-title">{{ reminder.p.CustomerName }}</p>
          <p class="reminder-title">{{ reminder.p.ContactNos }}</p>
          <p class="reminder-date">{{ formatDate(reminder.p.TransDateTime) }}</p>
        </div>
      </div>
    </div>
  </div>
</ion-content>