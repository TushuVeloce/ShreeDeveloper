<div class="container">
  <div class="row">
    <div class="col-12">
      <h5 class="title title_light text-center mb-4">Your Profile</h5>
    </div>
  </div>

  <div class="card shadow-sm p-4 mb-5">
    <form #AddForm="ngForm" (ngSubmit)="SaveProfile()">
      <div class="row justify-content-center">

        <!-- Profile Image Upload -->
        <div class="col-lg-5 col-md-6 col-sm-12 mb-4">
          <div class="text-center mb-2">
            <label for="profileImage" class="form-label form-label_light">Profile Image</label>
          </div>
          <div class="d-flex flex-column align-items-center">
            <ng-container *ngIf="imageUrl; else defaultImage">
              <img [src]="imageUrl" alt="Profile Image" class="img-thumbnail rounded-circle mb-2" style="width: 150px; height: 150px;" />
            </ng-container>
            <ng-template #defaultImage>
              <img src="/assets/images/noimage.png" alt="No Image" class="img-thumbnail rounded-circle mb-2" style="width: 150px; height: 150px;" />
            </ng-template>
            <input type="file" (change)="handleFileChange($event)" id="profileImage" class="form-control-file" />
            <p *ngIf="errors.profile_image" class="text-danger mt-1">{{ errors.profile_image }}</p>
          </div>
        </div>

        <!-- Form Fields -->
        <div class="col-lg-7 col-md-12">
          <div class="row gy-3">

            <div class="col-md-6">
              <label for="Name">Name</label>
              <input type="text" [(ngModel)]="Entity.p.Name" name="Name" class="form-control" id="Name" required placeholder="Enter Name" />
            </div>

            <div class="col-md-6">
              <label for="Gender">Gender</label>
              <input type="number" [(ngModel)]="Entity.p.Gender" name="Gender" class="form-control" id="Gender" required placeholder="Enter Gender" />
            </div>

            <div class="col-md-6">
              <label for="DOB">Date of Birth</label>
              <input type="text" [(ngModel)]="Entity.p.DOB" name="DOB" class="form-control" id="DOB" required placeholder="Enter DOB" />
            </div>

            <div class="col-md-6">
              <label for="EmailId">Email-ID</label>
              <input type="email" [(ngModel)]="Entity.p.EmailId" name="EmailId" class="form-control" id="EmailId" required placeholder="Enter Email Id" />
            </div>

            <div class="col-md-6">
              <label for="MobileNo">Mob No</label>
              <input type="text" [(ngModel)]="Entity.p.MobileNo" name="MobileNo" class="form-control" id="MobileNo" required placeholder="Enter Mob Number" />
            </div>

            <div class="col-md-6">
              <label for="Address">Address</label>
              <input type="text" [(ngModel)]="Entity.p.Address" name="Address" class="form-control" id="Address" required placeholder="Enter Address" />
            </div>
          </div>
        </div>

        <!-- Save Button -->
        <div class="col-12 text-center mt-4">
          <button type="submit" class="btn btn-primary px-4">Save</button>
        </div>

      </div>
    </form>
  </div>
</div>
