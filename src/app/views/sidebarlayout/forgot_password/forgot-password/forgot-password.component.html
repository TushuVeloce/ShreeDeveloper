<div class="container-fluid min-vh-100 d-flex justify-content-center align-items-center" style="background-color: #dbd8d8;">
  <div class="card p-4 w-100" style="max-width: 500px;">
    <div class="text-center mb-3">
      <img src="/assets/icons/lock.png" alt="lock" class="img-fluid" style="max-width: 80px;" />
    </div>

    <form>
      <!-- Title & Email -->
      <h4 class="text-center">Enter Your Verification Code</h4>
      <p class="text-center mt-2">We have sent a verification code to:</p>
      <p class="text-center fw-bold">{{ UserEmailId }}</p>

      <!-- OTP and Verify -->
      <div class="row justify-content-center mb-3">
        <div class="col-12 col-md-6 mb-2">
          <input
            type="number"
            id="otp"
            maxlength="6"
            autofocus
            class="form-control"
            [(ngModel)]="OTP"
            (click)="selectAllValue($event)"
            (ionInput)="checkMaxLength($event)"
            name="otp"
            placeholder="Enter OTP"
            required
          />
        </div>
        <div class="col-12 col-md-6 mb-2">
          <button
            (click)="verifyotp()"
            [disabled]="isVerifyOtpDisabled"
            type="submit"
            class="btn btn-save w-100"
          >
            Verify OTP
          </button>
        </div>
      </div>

      <!-- Resend OTP -->
      <p class="text-center small">
        Haven't received the code?
        <a
          class="label2"
          style="color: #f75c01; font-size: 14px;"
          [style.cursor]="isResendOtpDisabled ? 'not-allowed' : 'pointer'"
          (click)="ResendOtp()"
        >
          Resend here {{ isResendOtpDisabled ? '(' + ResendOtpTimer + 's)' : '' }}
        </a>
      </p>

      <!-- New Password -->
      <div class="mb-3">
        <div class="input-group">
          <span class="input-group-text">
            <i class="fas fa-lock"></i>
          </span>
          <input
            [type]="showNewPassword ? 'text' : 'password'"
            id="Password"
            [(ngModel)]="Password"
            class="form-control"
            name="Password"
            placeholder="Enter New Password"
            required
            [disabled]="isDisableInput"
          />
          <span class="input-group-text" (click)="toggleNewPasswordVisibility()" style="cursor: pointer;">
            <i class="fa-regular fa-eye" *ngIf="showNewPassword"></i>
            <i class="fa-regular fa-eye-slash" *ngIf="!showNewPassword"></i>
          </span>
        </div>
      </div>

      <!-- Confirm Password -->
      <div class="mb-3">
        <div class="input-group">
          <span class="input-group-text">
            <i class="fas fa-lock"></i>
          </span>
          <input
            [type]="showConfirmPassword ? 'text' : 'password'"
            id="ConfirmPassword"
            [(ngModel)]="ConfirmPassword"
            class="form-control"
            name="ConfirmPassword"
            placeholder="Confirm Password"
            required
            [disabled]="isDisableInput"
          />
          <span class="input-group-text" (click)="toggleConfirmPasswordVisibility()" style="cursor: pointer;">
            <i class="fa-regular fa-eye" *ngIf="showConfirmPassword"></i>
            <i class="fa-regular fa-eye-slash" *ngIf="!showConfirmPassword"></i>
          </span>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="row mt-4">
        <div class="col-12 col-md-6 mb-2">
          <button
            (click)="verifyPassword()"
            [disabled]="!isOTPVerified || isVerifyPassword"
            type="submit"
            class="btn btn-save w-100"
          >
            Verify and Save
          </button>
        </div>
        <div class="col-12 col-md-6 mb-2">
          <button
            (click)="BackToLogin()"
            type="submit"
            class="btn btn-save w-100"
          >
            Back To Login
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
